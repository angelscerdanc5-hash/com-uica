<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I.E. Miguel Grau - El Pío Pío | Miércoles 12 de Noviembre 2025</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <style>
        :root{--primary:#00bfff;--accent:#ffcc00;--text:#eaffff;--bg:#001242}
        *{margin:0;padding:0;box-sizing:border-box;font-family:'Inter',sans-serif}
        body{background:radial-gradient(circle at 50% 120%,#00081d 0%,#001242 50%,#002c77 100%);min-height:100vh;color:white;display:flex;justify-content:center;align-items:center;overflow:hidden}
        #canvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0}
        .scene{position:fixed;width:100%;height:100%;top:0;left:0;z-index:1;pointer-events:none;overflow:hidden}
        .nebula{position:absolute;background:radial-gradient(circle,rgba(6,24,60,0.4)0%,transparent 70%);border-radius:50%;filter:blur(120px);opacity:0.7}
        .nebula-1{width:700px;height:700px;top:5%;left:-100px;animation:nebula1 35s infinite alternate}
        .nebula-2{width:900px;height:900px;bottom:0;right:-150px;animation:nebula2 40s infinite alternate}
        @keyframes nebula1{0%{transform:translate(0,0)}100%{transform:translate(80px,-60px)}}
        @keyframes nebula2{0%{transform:translate(0,0)}100%{transform:translate(-60px,50px)}}
        .bokeh{position:absolute;background:rgba(135,206,235,0.15);border-radius:50%;filter:blur(60px);animation:bokehFloat 30s infinite}
        .bokeh-1{width:300px;height:300px;top:15%;right:8%}
        .bokeh-2{width:200px;height:200px;bottom:25%;left:10%;animation-delay:-10s}
        @keyframes bokehFloat{0%,100%{transform:translateY(0)}50%{transform:translateY(-40px)}}
        .content-area{position:relative;z-index:10;width:92%;max-width:1250px;padding:25px}
        .slide{display:none;opacity:0;transition:opacity 1s ease;padding:35px;background:rgba(0,0,0,0.65);border-radius:25px;backdrop-filter:blur(12px);box-shadow:0 0 30px rgba(30,144,255,0.5);min-height:560px}
        .slide.active{display:block;opacity:1}
        .main-title{font-size:3.2em;color:var(--accent);text-shadow:0 0 15px rgba(255,204,0,0.7);font-weight:800;text-align:center;margin-bottom:15px}
        .subtitle{font-size:2em;color:white;text-shadow:0 0 12px #00bfff;text-align:center;margin:20px 0}
        .text-content{color:#eaffff;font-size:1.15em;line-height:1.8;text-align:justify;max-width:900px;margin:18px auto}
        .logo{font-size:6em;text-align:center;margin:20px 0;animation:float 4s ease-in-out infinite}
        @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-15px)}}
        .audio-player{width:100%;max-width:950px;margin:25px auto;padding:15px;background:rgba(30,144,255,0.15);border-radius:15px;box-shadow:0 0 15px rgba(30,144,255,0.6)}
        .media-container{display:flex;gap:30px;margin-top:25px;flex-wrap:wrap;justify-content:center}
        .video-col{flex:1;min-width:320px;display:flex;flex-direction:column;gap:20px}
        .video-box{width:100%;aspect-ratio:16/9;border-radius:18px;overflow:hidden;box-shadow:0 0 30px rgba(0,180,220,0.5);transition:0.3s}
        .video-box:hover{box-shadow:0 0 40px rgba(0,180,220,0.9);transform:translateY(-8px)}
        .video-box iframe{width:100%;height:100%;border:0}
        .lyrics-col{flex:1;min-width:320px;background:linear-gradient(180deg,rgba(0,8,14,0.98),rgba(6,22,36,0.95));border-radius:18px;padding:22px;box-shadow:0 0 35px rgba(0,0,0,0.6)}
        .lyrics-card h3{color:#9fefff;font-size:1.4em;border-bottom:2px solid rgba(159,239,255,0.3);padding-bottom:8px}
        .lyrics-scroll{max-height:560px;overflow-y:auto;padding-right:10px;line-height:2;font-family:monospace;font-size:1.05em}
        .lyrics-scroll::-webkit-scrollbar{width:10px}
        .lyrics-scroll::-webkit-scrollbar-thumb{background:#00bfff;border-radius:5px}
        .karaoke-line{opacity:0.7;transition:all 0.5s}
        .karaoke-line.active{opacity:1;color:#ffcc00;text-shadow:0 0 12px #ffcc00;transform:scale(1.15);font-weight:bold}
        .note{text-align:center;margin-top:15px;color:#87cefa;font-style:italic}
        .narration-controls{position:fixed;bottom:25px;left:25px;z-index:100;display:flex;gap:15px;background:rgba(0,0,0,0.6);padding:15px;border-radius:25px;backdrop-filter:blur(10px)}
        .ctrl-btn{width:60px;height:60px;border-radius:50%;background:#00bfff;color:white;border:none;font-size:1.8em;cursor:pointer;box-shadow:0 5px 20px rgba(0,0,0,0.5);transition:0.3s}
        .ctrl-btn:hover{transform:scale(1.15);background:#00d4ff}
        .ctrl-btn.active{background:#ffcc00}
        .audio-wave{position:fixed;bottom:25px;left:50%;transform:translateX(-50%);width:340px;height:70px;background:rgba(0,0,0,0.5);border-radius:35px;padding:12px;display:flex;gap:5px;align-items:center;justify-content:center;opacity:0;transition:0.4s;box-shadow:0 0 25px rgba(0,191,255,0.6)}
        .audio-wave.active{opacity:1}
        .bar{width:5px;background:#00bfff;border-radius:3px;animation:wave 1.4s ease-in-out infinite}
        .bar:nth-child(1){height:12px;animation-delay:0s}
        .bar:nth-child(2){height:25px;animation-delay:0.1s}
        .bar:nth-child(3){height:35px;animation-delay:0.2s}
        .bar:nth-child(4){height:28px;animation-delay:0.3s}
        .bar:nth-child(5){height:18px;animation-delay:0.4s}
        @keyframes wave{0%,100%{transform:scaleY(1)}50%{transform:scaleY(2.2)}}
        .nav-buttons{position:fixed;top:50%;width:100%;display:flex;justify-content:space-between;z-index:50;pointer-events:none}
        .nav-btn{pointer-events:auto;width:70px;height:70px;background:linear-gradient(145deg,#00bfff,#0088cc);color:white;border:none;border-radius:50%;font-size:2.5em;cursor:pointer;box-shadow:0 8px 25px rgba(0,0,0,0.6);transition:0.3s}
        .nav-btn:hover{transform:scale(1.1);box-shadow:0 0 30px #ffcc00}
        #prevBtn{visibility:hidden}
        .counter{position:fixed;bottom:25px;right:25px;background:rgba(0,0,0,0.75);padding:12px 22px;border-radius:25px;color:#ffcc00;font-weight:bold;font-size:1.3em;z-index:50}
    </style>
</head>
<body>

<canvas id="canvas"></canvas>
<div class="scene">
    <div class="nebula nebula-1"></div>
    <div class="nebula nebula-2"></div>
    <div class="bokeh bokeh-1"></div>
    <div class="bokeh bokeh-2"></div>
</div>

<div class="content-area">

    <!-- SLIDE 1 -->
    <div class="slide active" data-text="Bienvenidos a la Institución Educativa Miguel Grau de Paramonga. Estudiar, estudiar y vencer.">
        <div class="logo"><i class="fas fa-graduation-cap"></i></div>
        <h1 class="main-title">I.E. Miguel Grau de Paramonga</h1>
        <p class="text-content" style="text-align:center;font-size:1.5em;font-style:italic;color:#87ceeb;font-weight:bold;">
            "Estudiar, Estudiar y Vencer"
        </p>
    </div>

    <!-- SLIDE 2 -->
    <div class="slide" data-text="Introducción musical. Chato Grados revitalizó la canción Pío Pío, conectando música, emoción y lengua materna.">
        <h2 class="subtitle">Introducción Musical</h2>
        <p class="text-content">
            En esta presentación se resalta la interpretación del destacado artista peruano <strong>Chato Grados</strong>,
            quien revitalizó la tradicional canción <em>"Pío Pío"</em>, reconocida por su sencillez melódica y su conexión
            con la identidad popular del país.
        </p>
        <p class="text-content" style="margin-top:15px;">
            Esta pieza se relaciona con la competencia <strong>“Se comunica en diversos tipos de texto en su lengua materna”</strong>,
            porque permite expresar emociones, pensamientos y recuerdos a través del lenguaje musical.
        </p>
        <p class="text-content" style="margin-top:15px;">
            <strong>Propósito:</strong> utilizar la canción como un <em>elixir comunicativo</em> que despierta la memoria afectiva
            y fortalece el vínculo con la lengua y las raíces culturales.
        </p>
        <div style="margin-top:20px;font-size:0.9em;color:#cfeeff;">
            Créditos: Adaptación musical por Chato Grados. Uso educativo autorizado por la I.E. Miguel Grau de Paramonga.
        </div>
    </div>

    <!-- SLIDE 3 -->
    <div class="slide" data-text="Competencia central: Se comunica en diversos tipos de texto en su lengua materna.">
        <h1 class="main-title">I. E. Miguel Grau De Paramonga</h1>
        <h2 class="subtitle" style="text-align:center;">Competencia Central</h2>
        <p class="text-content" style="background:rgba(255,255,255,0.05);border-radius:10px;padding:15px;border:1px solid rgba(255,255,255,0.1);">
            Se comunica en diversos tipos de texto en su lengua materna.
        </p>
        <p class="text-content" style="text-align:center;margin-top:20px;">
            Esta competencia se fortalece al analizar cómo la música, como tipo de texto cultural, transmite mensajes y emociones complejas.
        </p>
    </div>

    <!-- SLIDE 4 -->
    <div class="slide" data-text="Historia del Pío Pío: Nació en carnaval de Chongos Bajo. Chato Grados improvisó al ver pollitos. Éxito nacional.">
        <h2 class="subtitle">Tema Musical: “El Pío Pío”</h2>
        <p class="text-content">
            La canción <strong>“El Pío Pío”</strong> es una de las composiciones más recordadas del género <em>huaylarsh</em> peruano.
            Fue interpretada por el reconocido artista <strong>Eusebio “Chato” Grados</strong>.
        </p>
        <p class="text-content">
            Según <strong>Wikipedia</strong>, la historia nace durante una celebración del carnaval en Chongos Bajo, en el valle del Mantaro (Junín).
            Chato Grados escuchó una melodía y, al observar a unos pollitos, improvisó la letra con el característico “pío pío”.
        </p>
        <p class="text-content">
            Casi no fue publicada, pero su ritmo contagioso la convirtió en un éxito nacional y una <em>Joya Musical</em> del Perú.
        </p>
        <div style="margin-top:15px;font-size:0.9em;color:#cfeeff;">
            Fuente: Wikipedia y RPP Noticias · Uso educativo por la I.E. Miguel Grau de Paramonga.
        </div>
    </div>

    <!-- SLIDE 5 -->
    <div class="slide" data-text="Escucha la canción El Pío Pío. Observa los videos y sigue la letra completa.">
        <h2 class="subtitle">Canción, Audio y Subtítulos Dinámicos</h2>
        <div class="audio-player">
            <audio controls>
                <source src="pio pio karaoke (50kbpsk)_1762627995925.mp3" type="audio/mp3">
                Tu navegador no soporta el elemento de audio.
            </audio>
        </div>

        <div class="media-container">
            <div class="video-col">
                <div class="video-box">
                    <iframe src="https://www.youtube.com/embed/mUoVKG9Or-E?enablejsapi=1&rel=0" title="El Pío Pío - Chato Grados (Oficial)" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                <div class="video-box">
                    <iframe src="https://www.youtube.com/embed/maBBxn3uD48?enablejsapi=1&rel=0" title="El Pío Pío - En vivo" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
            </div>

            <div class="lyrics-col">
                <div class="lyrics-card">
                    <h3>Subtítulos (IA) — Letra completa</h3>
                    <div class="lyrics-scroll">
                        <p class="karaoke-line" data-line="0">Bailando, zapateando en Huayucachi</p>
                        <p class="karaoke-line" data-line="4">Bailando, zapateando en Miraflores</p>
                        <p class="karaoke-line" data-line="8">Pío, pío, pío, pío, qué linda eres</p>
                        <p class="karaoke-line" data-line="12">Pío, pío, pío, pío, pío, huancaína</p>
                        <p class="karaoke-line" data-line="16">Bailando, zapateando en Huayucachi</p>
                        <p class="karaoke-line" data-line="20">Bailando, zapateando en Miraflores</p>
                        <p class="karaoke-line" data-line="24">Pío, pío, pío, pío, qué linda eres</p>
                        <p class="karaoke-line" data-line="28">Pío, pío, pío, pío, pío, huancaína</p>
                        <p class="karaoke-line" data-line="32">Pío, pío, pío, pío, con elegancia</p>
                        <p class="karaoke-line" data-line="36">Bailemos, cantemos huaylas moderno</p>
                        <p class="karaoke-line" data-line="40">Pío, pío, pío, pío, en Chongos Bajo</p>
                        <p class="karaoke-line" data-line="44">A ti, cholita, te daré mi amor</p>
                        <p class="karaoke-line" data-line="48">Pío, pío, pío, pío, con elegancia</p>
                        <p class="karaoke-line" data-line="52">Bailemos, cantemos huaylas moderno</p>
                        <p class="karaoke-line" data-line="56">Pío, pío, pío, pío, en Chongos Bajo</p>
                        <p class="karaoke-line" data-line="60">A ti, cholita, te daré mi amor</p>
                        <p class="karaoke-line" data-line="64">Dame tu cariñito sincero</p>
                        <p class="karaoke-line" data-line="68">Muchachita, linda huancaína</p>
                        <p class="karaoke-line" data-line="72">Dame tu cariñito sincero</p>
                        <p class="karaoke-line" data-line="76">Muchachita, linda de mi vida</p>
                    </div>
                </div>
            </div>
        </div>
        <p class="note">La letra se ilumina sola mientras suena la canción.</p>
    </div>

    <!-- SLIDE 6 -->
    <div class="slide" data-text="Conclusión: La música es un texto vivo que une, enseña y fortalece nuestra identidad cultural.">
        <h2 class="subtitle">Conclusiones y Aprendizaje</h2>
        <p class="text-content">
            A través de la canción <strong>“El Pío Pío”</strong> de Eusebio “Chato” Grados, comprendimos cómo la música tradicional puede 
            expresar sentimientos, costumbres y alegría del pueblo andino.
        </p>
        <p class="text-content">
            La música es, sin duda, una poderosa forma de texto que nos une y nos enseña a valorar la riqueza de nuestro idioma.
        </p>
    </div>

    <!-- SLIDE 7 -->
    <div class="slide" data-text="Gracias por su atención. Presentado por Ángel Smith Cerdán Cormán. Año 2025.">
        <h2 class="subtitle" style="text-align:center;">Gracias a todos</h2>
        <p class="text-content" style="text-align:center;">
            <strong>Canción:</strong> “El Pío Pío”<br>
            <strong>Autor e intérprete:</strong> Eusebio “Chato” Grados<br>
            <strong>Presentado por:</strong> Ángel Smith Cerdán Cormán<br>
            <strong>Institución Educativa:</strong> I.E. Miguel Grau de Paramonga
        </p>
        <div style="text-align:center;margin-top:25px;font-size:0.95em;">
            <p><strong>Área:</strong> Comunicación</p>
            <p><strong>Competencia:</strong> Se comunica en diversos tipos de texto en su lengua materna</p>
            <p><strong>Miércoles 12 de Noviembre de 2025</strong></p>
        </div>
        <p class="text-content" style="text-align:center;font-style:italic;margin-top:25px;">
            “La música nos une, nos enseña y nos hace sentir orgullosos de lo que somos.”
        </p>
    </div>
</div>

<div class="narration-controls">
    <button class="ctrl-btn" id="playNarrator" title="Narrar"><i class="fas fa-microphone"></i></button>
    <button class="ctrl-btn" id="autoMode" title="Auto"><i class="fas fa-play"></i></button>
</div>

<div class="audio-wave" id="audioWave">
    <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
</div>

<div class="counter" id="counter">1 / 7</div>
<div class="nav-buttons">
    <button class="nav-btn" id="prevBtn"><i class="fas fa-chevron-left"></i></button>
    <button class="nav-btn" id="nextBtn"><i class="fas fa-chevron-right"></i></button>
</div>

<script>
    // Partículas mejoradas
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = innerWidth; canvas.height = innerHeight;
    const particles = Array.from({length: 100}, () => ({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        r: Math.random() * 2 + 0.5,
        s: Math.random() * 0.6 + 0.2,
        a: Math.random() * Math.PI * 2
    }));
    function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particles.forEach(p => {
            p.x += Math.cos(p.a) * p.s;
            p.y += Math.sin(p.a) * p.s;
            if (p.x < 0 || p.x > canvas.width) p.a = Math.PI - p.a;
            if (p.y < 0 || p.y > canvas.height) p.a = -p.a;
            ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
            ctx.fillStyle = 'rgba(135, 206, 255, 0.7)'; ctx.fill();
        });
        requestAnimationFrame(animate);
    }
    animate();
    window.addEventListener('resize', () => { canvas.width = innerWidth; canvas.height = innerHeight; });

    // Navegación
    const slides = document.querySelectorAll('.slide');
    let current = 0;
    const total = slides.length;
    function update() {
        slides.forEach((s, i) => s.classList.toggle('active', i === current));
        document.getElementById('counter').textContent = `${current + 1} / ${total}`;
        document.getElementById('prevBtn').style.visibility = current === 0 ? 'hidden' : 'visible';
        document.getElementById('nextBtn').style.visibility = current === total - 1 ? 'hidden' : 'visible';
        if (current === 4) startKaraoke();
        if (current === total - 1) setTimeout(() => confetti({particleCount: 300, spread: 100, origin: {y: 0.6}}), 800);
    }
    document.getElementById('nextBtn').onclick = () => { if (current < total - 1) { current++; update(); } };
    document.getElementById('prevBtn').onclick = () => { if (current > 0) { current--; update(); } };

    // Auto
    let autoTimer = null;
    document.getElementById('autoMode').onclick = () => {
        const btn = document.getElementById('autoMode');
        btn.classList.toggle('active');
        if (btn.classList.contains('active')) {
            autoTimer = setInterval(() => { if (current < total - 1) { current++; update(); } else { btn.classList.remove('active'); clearInterval(autoTimer); } }, 15000);
        } else clearInterval(autoTimer);
    };

    // Narración IA (tu API)
    const ELEVENLABS_KEY = 'sk_dbad929c1d06238b726753d427ed0864e592387adde312e8';
    async function speak(text) {
        document.getElementById('audioWave').classList.add('active');
        try {
            const resp = await fetch('https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM/stream', {
                method: 'POST',
                headers: { 'xi-api-key': ELEVENLABS_KEY, 'Content-Type': 'application/json' },
                body: JSON.stringify({ text, voice_settings: { stability: 0.8, similarity_boost: 0.9 } })
            });
            const audio = new Audio(URL.createObjectURL(await resp.blob()));
            audio.play();
            audio.onended = () => document.getElementById('audioWave').classList.remove('active');
        } catch (e) {
            const utter = new SpeechSynthesisUtterance(text);
            utter.lang = 'es-PE'; utter.rate = 0.9;
            speechSynthesis.speak(utter);
            utter.onend = () => document.getElementById('audioWave').classList.remove('active');
        }
    }
    document.getElementById('playNarrator').onclick = () => speak(slides[current].getAttribute('data-text'));

    // Karaoke suave
    function startKaraoke() {
        const lines = document.querySelectorAll('.karaoke-line');
        let i = 0;
        clearInterval(window.kInt);
        window.kInt = setInterval(() => {
            lines.forEach(l => l.classList.remove('active'));
            if (lines[i]) lines[i].classList.add('active');
            i++;
            if (i >= lines.length) clearInterval(window.kInt);
        }, 4200);
    }

    window.onload = update;
</script>
</body>
</html>